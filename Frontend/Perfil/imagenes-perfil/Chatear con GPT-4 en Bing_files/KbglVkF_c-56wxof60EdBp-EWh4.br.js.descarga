define("ajax.shared",["require","exports"],function(n,t){function r(n){var r=keyMap[n]?keyMap[n]:keyMap.Prefix+n,i=document.getElementById(r),t;return!i&&document.getElementsByClassName&&(t=document.getElementsByClassName(r),i=t&&t.length?t[0]:null),i}function u(n){var f=sj_ce("a"),t,r,u;return f.href=n,t=f.pathname,t[0]!=="/"&&(t="/"+t),t=t.replace(i,"/"),r="",t==="/"?r=t:(u=n.indexOf(t),r=u>-1?n.substr(u):""),r}function f(n,t,i){for(;n&&n!==document;n=n.parentNode){if(n[t]===i)return n;if(n===undefined)break}}var i=/^(\/)(\1+)/;t.getPlaceholder=r;t.getRelativeUrl=u;t.getParentContainer=f});define("ajax.maskBase",["require","exports"],function(n,t){function e(n){var t=document.createElement("style"),i;t.setAttribute("data-rms","1");document.body.appendChild(t);i="#"+u+n;i+="a,a *{-ms-touch-action:manipulation;touch-action:manipulation}";t.textContent!==undefined?t.textContent=i:t.styleSheet&&(t.styleSheet.cssText+=i)}function r(){return i=document.getElementById(u),i?!0:!1}function o(){var l=n("ajax.instant"),f,v,c,e;if(l&&l.enabled||h(),f=document.getElementById(keyMap.Content),f){var t=f.getBoundingClientRect(),o=t.width?Math.abs(t.right-t.left):t.width,a=s(f,"paddingLeft");o=o-(a?parseInt(a):0);v=t.height?Math.abs(t.bottom-t.top):t.height;c="px";r()||(i=document.createElement("div"),i.setAttribute("id",u));i.style.height=v+c;i.style.width=o+c;e=f.childNodes;e&&e.length&&f.insertBefore(i,e[0])}}function s(n,t){var i;if(window.getComputedStyle)i=getComputedStyle(n,null);else if(n.currentStyle)i=n.currentStyle;else return null;return i[t]}function h(){var n=f.getPlaceholder("AutoSug"),t=f.getPlaceholder("header");n&&t&&(n.style.display="none",t.className="")}function c(){r()&&i.parentNode.removeChild(i)}function l(n){if(r())for(var t in n)i.style[t]=n[t]}function a(){return r()}function v(){try{window.scrollTo(0,0)}catch(n){}}var y=n("event.custom"),f=n("ajax.shared"),u="ajaxMaskLayer",i;t.addAjaxStyles=e;t.addMask=o;t.removeMask=c;t.updateMask=l;t.hasMask=a;t.scrollToTop=v});define("ajax.noMask",["require","exports","ajax.maskBase"],function(n,t,i){function u(){i.addAjaxStyles("{position:absolute;background-color:white;opacity:0;z-index:-1}");r.unbind("onP1",u)}var r=n("event.custom");r.bind("onP1",u,!0);r.bind("ajax.requestSent",i.addMask);r.bind("ajax.firstChunkEnd",function(){i.updateMask({zIndex:"10"})});r.bind("ajax.load",function(){i.scrollToTop()})});define("ajax.history",["require","exports"],function(n,t){function o(n){history.pushState(i,i,n)}function s(n){history.replaceState(i,i,n)}function h(){var n=_w.location,t=n.href,i=t.indexOf(e),f;i>=0?(f=t.substr(i),u.fire("ajax.state",f)):n.pathname===r&&_w.sj_lc(r)}var u=n("event.custom"),f=n("event.native"),e="/search",r="/",i=null;t.pushState=o;t.replaceState=s;f.bind(_w,"popstate",h,!1)});_w.keyMap={Content:"b_content",SearchForm:"sb_form",SBoxId:"sb_form_q",Notification:"b_notificationContainer",Identity:"id_h",Prefix:"b_",RmsDefer:"aRmsDefer",RmsKeys:["rms:answers:Shared:BingCore.Bundle","rms:answers:AjaxSerp:Ajax.Bundle","rms:answers:BoxModel:Framework"],AutoSug:"sa_as",FeaturePersist:1,LangSwitch:"langChange",ASContainer:"sw_as",Result:"b_results"};define("ajax.framework.mask.ajaxww.conv",["require","exports"],function(n){function ir(n){var i,r,u=n&&n.length>1?n[1]:null,f=_ge("serpHeader"),t;keyMap.IsHP&&f?(t=f.getElementsByTagName("form"),t.length>0&&t[0].id===keyMap.SearchForm&&(r=t[0])):r=_d.getElementById(keyMap.SearchForm);vt.test(u)&&(i=ui(u)+kr(r));i&&(d=u,_w._isConvAjaxUpdated=!0,ht(i,9,!0))}function kt(){var t="onpopstate"in _w&&_w.history&&_w.history.pushState,r,n,u;if(e||(e=nt.get("_SS","SID"),at="jsonv2"),_w.keyMap&&_w.JSON&&document.getElementsByClassName&&e&&t&&a){if(vi=nt.get("SRCHHPGUSR","AS"),dt(),tt.bind(document,"keydown",function(n){n.keyCode===27&&a.preventDefault(n)}),document.querySelectorAll)for(r=document.querySelectorAll("script[data-ajaxResKey]"),n=0;n<r.length;n++)ot[r[n].getAttribute("data-ajaxResKey")]=!0;_w.sj_isAjax=!0;_w._isConvAjaxUpdated=!1;i.fire("ajaxReady")}t&&e||(u=t?"":"History NA",u+=e?"":"SID NA",sj_log("CI.Ajax","H5Support",u),g());i.unbind("onP1",kt)}function dt(){var t,n,r;if(i.bind("ErrorInstrumentation",function(){g()}),i.bind("LayoutError",function(){g()}),i.bind("ConvModeNavigate",ir),keyMap.IsHP)for(t=document.getElementsByTagName("form"),n=0;n<t.length;n++)t[n].id==="sb_form";else r=document.getElementById("sb_form"),r}function g(){}function fr(n,t,i,r){var u,f,e;i!==wt&&(wt=i);for(u in n)if(u==="Script")for(f=0;f<n[u].length;f++)e=n[u][f],gt(t,u,i,e,r);else gt(t,u,i,n[u],r)}function gt(n,t,i,r,u){er(n,t,i,r,u)}function er(n,t,f,e,o){var p,l,w,a,v,h;if(f===y)switch(t){case"Script":e.Method==="reference"?s.includeScriptReference(e.Content):e.Method==="referenceOnce"?(p=e.Key,ot[p]||(s.includeScriptReference(e.Content),ot[p]=!0)):s.includeScript(e.Content);break;case"Style":pr();s.getCssHolder().innerHTML+="<div><\/div>"+e;break;case"IG":_G.IG=e;break;case"Title":pt.innerHTML=e;document.title=pt.innerText;break;case"EOS":or(f,o);break;case"HBop":h=document.createElement("div");document.getElementById(keyMap.Content).appendChild(h);h.outerHTML=e;c.push(t);break;case"RmsDefer":case"EmbDivs":l=u.getPlaceholder(t);l||(l=document.createElement("div"),document.body.appendChild(l));l.outerHTML=e;break;case"Content":keyMap.FeaturePersist&&r?(w=document.createDocumentFragment(),h=document.createElement("div"),w.appendChild(h),h.innerHTML=e,a=w.querySelector("#persistent"+r.getAttribute(k)),a?a.parentNode.replaceChild(r,a):i.reset(null,ti(),!0),v=u.getPlaceholder(t),v&&(v.parentNode.replaceChild(h.firstChild,v),c.push(t)),i.fire("ajax.persist")):ni(t,e);i.fire("ajax.contentEnd");b!==null&&(sb_ct(b),b=null);break;case"EOC":e==="1"&&i.fire("ajax.firstChunkEnd");break;case"Keys":ft=e;break;case"LangSwitch":case"MarketSwitch":h=document.createElement("div");document.body.appendChild(h);h.outerHTML=e;c.push(t);break;default:ni(t,e)}}function or(n,i){if(t){var r=t.onload,u=sb_st(function(){st(n,i);t.onload=function(){t&&t.remove&&t.remove()}},1e3);t.onload=function(){sb_ct(u);st(n,i);r&&r();t&&t.remove&&t.remove()}}else st(n,i)}function st(n,r){u.ajaxPerf&&(l.performance=t&&t.contentWindow&&t.contentWindow.performance);r&&nu();et=!1;i.bind("onPP",function(){return et=!0});sr();dt();wr();yr(n);v.setTimeout(function(){return ar()},1)}function ni(n,t){var i=u.getPlaceholder(n);i&&(i.outerHTML=t,c.push(n))}function sr(){_G.PPS=!1;try{_G.BPT=new Date;_w.lb&&lb();var n=t&&t.contentWindow,i=u.ajaxPerf?l.performance:n&&n.performance,r=i&&i.timing;si_PP(new Date,"L",r?r:w)}catch(f){si_PP(new Date)}}function hr(){i.fire("unload");i.fire("ajax.unload");pi=!1;v.clear();a.forEach(ei,function(n){if(window.hasOwnProperty(n)){window[n]=w;try{delete window[n]}catch(t){}}});a.forEach(oi,function(n){for(var i,r=document.getElementsByClassName(n),t=0;t<r.length;t++)i=r[t],i.parentNode.removeChild(i)});lr();gr();i.reset(cr(),ti());fi.reset();c=[];ft=[]}function cr(){var t=null,u=r?r.getAttribute("data-ajax-cetp"):"",i,n;if(u)for(t={},i=u.split(","),n=0;n<i.length;n++)t[i[n]]="";return t}function ti(){return(h==o.Answer||h==o.History)&&r?r.getAttribute("data-ajax-pocetp"):""}function lr(){window.Bing&&Bing.hasOwnProperty("MapControl")&&(Bing.MapControl=w,delete Bing.MapControl);window.$MapsNamespace&&window.hasOwnProperty($MapsNamespace)&&(window[$MapsNamespace]=w,delete window[$MapsNamespace])}function ar(){u.ajaxPerf?i.fire("ajax.load",l):i.fire("ajax.load");i.fire("onHTML");et||i.fire("onPP");i.fire("onP1Lazy");u.ajaxPerf?i.fire("ajax.postload",l):i.fire("ajax.postload");l={}}function ht(n,t,i){i===void 0&&(i=!1);f=wi;try{if(window.performance&&performance.now&&!i&&performance.now()>ci){ct(n,"PageExpired",f,t);return}y=n;h=t;rt=!0;hr();f=bi;vr(n,t,i)}catch(u){var e=f===gi&&!document.getElementById(p)?!1:!0,r=""+u;e?ct(n,r,f,t):ii(r,f)}}function vr(n,r,u){var o,s,a,y,w;ut.indexOf(n)===-1&&(t&&t.parentNode&&(t.onload=null,t.parentNode.removeChild(t),t=null),l.fromCache=!1,o=window.AjaxCB.length,f=ki,ut.push(n),s=nt.get("_SS","SID"),s&&(e=s),a=n+(u?"&convswitchupdate=1":"")+(n.indexOf("&sid=")===-1?"&sid="+e:"")+"&format="+at+"&jsoncbid="+o,t=document.createElement("iframe"),t.style.display="none",document.body.appendChild(t),window.AjaxCB.push(function(t){fr(t,o,n,u)}),yi=new Date,y=function(t,i,r){return function(){var u,f;r?(u=_ge(p),u&&u.parentElement&&u.parentElement.removeChild(u)):document.getElementById(p)&&(f="RK:"+c.join(",")+" SK:"+ft.join(",")+" U:"+escape(a),ct(n,"FailedRequest",t,i,f))}},t.onload=y(bt,h,u),w=window.location.protocol+"//"+window.location.host+a,t.src=w,b=v.setTimeout(y(nr,h,u),si),f=di,i.fire("ajax.requestSent",n))}function ct(n,i,r,u,f){ii(i,r,f);n=n+tr+r;var e="assign";u===o.History&&(e="replace");y="";t&&(t.onload=null);v.setTimeout(function(){return window.location[e](n)},hi)}function ii(n,t,i){if(t<bt&&typeof onerror=="function")window.onerror(n,"Ajax.Bundle",t);else{var r="Ajax";i&&(r+='","Meta":"'+i);sj_log("CI.AjaxSerpError",r,n+t);g()}}function yr(n){h!==o.History&&(_w.history.replaceState({ajaxserp:!0,inConvMode:!0},"",u.getRelativeUrl(n).replace("&showconv=1","")+"&showconv=1"),typeof _w.SydFSCHelper!="undefined"&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}),_w.history.pushState({ajaxserp:!0},"",n),typeof _w.SydFSCHelper!="undefined"&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}));ut=[]}function pr(){var n,i,t;rt&&(n=s.getCssHolder(),n.id="ajaxStylesBackup",i=s.getCssHolder(),t=n.nextSibling,t&&n.parentNode.insertBefore(i,t),rt=!1)}function wr(){var n=document.getElementById("ajaxStylesBackup");n&&n.parentNode.removeChild(n)}function ui(n){return it+"?q="+encodeURIComponent(n)}function br(n){for(var r="",i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&(r+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return r}function kr(n){for(var r="",i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&i[t].name!="form"&&(r+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return r+"&form=CONVAJ"}function lt(n){var t=dr();t&&(a.preventDefault(n),ht(t,o.AS))}function dr(){var u,n,t,f=_ge("serpHeader"),i,r;return keyMap.IsHP&&f?(i=f.getElementsByTagName("form"),i.length>0&&i[0].id===keyMap.SearchForm&&(n=i[0],r=n.getElementsByClassName("b_searchbox"),r.length>0&&r[0].id===keyMap.SBoxId&&(t=r[0].value))):(n=_d.getElementById(keyMap.SearchForm),t=_d.getElementById(keyMap.SBoxId).value),vt.test(t)&&(u=ui(t)+br(n)),u}function gr(){var n=document.getElementById(keyMap.Notification),t;n&&(n.parentNode.removeChild(n),t=document.getElementById("id_h"),t&&(t.style.top="0"))}function nu(){var n=_ge("sb_form_q"),t=_ge(p);n&&d&&!t&&(n.innerText=d,n.value=d)}var nt=n("cookies"),s=n("dom"),v=n("env"),i=n("event.custom"),tt=n("event.native"),a=n("shared"),fi=n("rmsajax"),u=n("ajax.shared"),t=null,r,it="/search",e=_G.SID,at="snrjson",rt=!1,o={Click:1,History:2,AS:3,Answer:8},h=o.Click,y=u.getRelativeUrl(window.location.href),ut=[],c=[],ft=[],ei=["Bnp","RMS_IACL","sched","TP","bepns","Identity","initComCtrl","ccal","ccal_bundle","expitem","si_sendCReq"],oi=["bubblePlaceholder","irhc","vrhc"],p="ajaxMaskLayer",w,b=null,si=2e4,hi=30,ci=864e5,li=/(&|%26)sid(=|%3d)\w+(&|%26)format(=|%3d)(jsonv2|snrjson)(&|%26)jsoncbid(=|%3d)\d+/gm,ai=/((&|%26)ajax(=|%3d)\w+(&|%26)axID(=|%3d)\w+)|((&|%26)pIG(=|%3d)\w+)|((&|%26)axNID(=|%3d)(\w|[,.])+)/gm,vt=/\S/,vi,yt=0,pt=sj_ce("textarea"),et,wt,yi=si_ST,k="data-ajax",f,pi=!1,wi=10,bi=20,ki=30,di=40,gi=50,bt=60,nr=70,tr="&ajf=",ot={},l={},d;i.bind("onP1",kt,!0);typeof AjaxCB=="undefined"&&(window.AjaxCB=[])})