var __spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},IDBbOv,IFrameOverlay;(function(n){function b(n){t.src?t.contentWindow.location.replace(n):t.src=n}function ut(){var n=_w.IDPTit;n&&(t.setAttribute("title",n),t.setAttribute("name",n))}function y(n){l=n?ct:null}function k(n){a.parentElement.style.overflow=n?"":"hidden"}function h(n){t.style.display=n?"block":"none"}function d(){var n=ot(t);n&&PageEvents.logUnload("back",n);y(!1);yt();ft();v||(r||(r=k),r(!0));h(!1);et();window.focus();i=!1;sj_ue(_d,"keyup",g);sj_ue(_w,"click",nt);f&&sessionStorage.removeItem(s)}function ft(){b(e);t.setAttribute("name",u)}function et(){sj_evt.fire("IFrame.Close")}function ot(n){try{return n.contentWindow._G.IG}catch(t){return null}}function st(n,t){var r={type:p,url:n,hiddenParams:t,count:0},i;w?(i=n+"&ajaxhist=0&ajaxserp=0",c.pushState(r,"",i)):_w.location.hash=it+n+t}function ht(){var i=!1,r=_ge(u);return r!=null?(t=r,i=!0):(t=sj_ce("iframe",u,"insightsOverlay"),t.setAttribute("data-tag","multimedia.iframeOverlay"),t.setAttribute("name",u),h(!1)),t.onload=function(){n.showFrame();var t=this;(t.src!==e||t.contentWindow&&t.contentWindow.location.href!==e)&&lt()},t.src=e,i||a.appendChild(t),t}function g(n){t&&i&&!t.contains(n.target)&&(sj_sp(n),sj_pd(n),t.focus())}function ct(){h(!0)}function lt(){var n=_ge(u);n.contentWindow?n.contentWindow.focus():n.focus()}function at(){o=sj_ce("div",tt)}function vt(){var n=_ge("b_content")||a;n.insertBefore(o,n.firstChild)}function yt(){var n=o.parentElement;n&&n.removeChild(o)}function pt(){return f=typeof IDBbOv!="undefined"&&IDBbOv,at(),ht(),wt(),!0}function wt(){w&&rt.bind(_w,"popstate",bt,!1);f&&sj_be(_w,"message",kt,!0)}function bt(r){if(r.state&&r.state.url&&r.state.type===p){var e=sessionStorage.getItem(s),u=r.state.count;f&&i&&typeof u!="undefined"&&typeof MMMessenger!="undefined"?u<parseInt(e)?(sessionStorage.setItem(s,u.toString()),MMMessenger.Post(t.contentWindow,"mm.goPrevious","")):MMMessenger.Post(t.contentWindow,"mm.goNext",""):n.show(r.state.url,!1,r.state.hiddenParams)}else i&&(d(),sj_evt.fire("ajax.state.update",_w.location.href))}function nt(n){if(n&&n.target&&i){var r=n.target;t.contains(r)||typeof MMMessenger!="undefined"&&MMMessenger.Post(t.contentWindow,"mm.prepareClose","")}}function kt(n){var t=typeof MMMessenger!="undefined"?MMMessenger.GetMessageData(n):null;t&&typeof t.data=="number"&&t.command==="mm.closeIFrame"&&c.go(-t.data);t&&(t.command==="onFavDel"||t.command==="onFavAdd"||t.command==="updateReactions")&&sj_evt.fire.apply(sj_evt,__spreadArray([t.command],t.data,!1))}function dt(n){var r,u,f,i,t,e;return n?(r=sj_ce("a"),r.href=n,u=_w.location,f=r.hostname,f&&f!=u.hostname)?null:(i="",t=r.pathname,t&&t.indexOf("/")!=0&&(t="/"+t),(i||t!=u.pathname)&&(i+=t),e=r.search,(i||e!=u.search)&&(i+=e),i):null}function gt(n){if(!n)return null;var t=sj_ce("a");return t.href=n,t.hash}var p="OverlayShow",u="OverlayIFrame",tt="OverlayMask",e="about:blank",it="#!",c=window.history,w=c.pushState?!0:!1,o,t,f=!1,i=!1,l=null,a=_d.body,rt=SmartEvent,s="mm.idpstate",v=!1,r=null;n.show=n.show||function(n,t,u,e){var o,c;e===void 0&&(e=!1);o=dt(n);v=_w.dOSBVC;typeof o=="string"&&o.length>0&&(c=o,u&&(c=o+u),i||(i=!0,vt(),sj_evt.fire("IFrame.Show"),e||b(c+gt(n)),ut(),v||(r||(r=k),r(!1)),y(!0),sj_be(_d,"keyup",g),sb_ie||h(!0),t&&(st(o,u),f&&sessionStorage.setItem(s,"0")),sj_be(_w,"click",nt)))};n.showFrame=n.showFrame||function(){l&&(l(),y(!1))};n.closeIFrame=n.closeIFrame||function(){d()};n.setWindowScrollbarVisibilityOverride=n.setWindowScrollbarVisibilityOverride||function(n){r=n};n._i=n._i||pt()})(IFrameOverlay||(IFrameOverlay={}))